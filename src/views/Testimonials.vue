<script setup lang="ts">
import { Star, ChevronLeft, ChevronRight } from 'lucide-vue-next'
import { ref } from 'vue'

const testimonials = [
  {
    name: 'å¼ æ€»',
    role: 'æ·±åœ³æé€Ÿç”µç«ç½‘å’– æ€»ç»ç†',
    avatar: 'ğŸ‘¨',
    rating: 5,
    comment: 'æ™ºç»´å›¢é˜Ÿçš„æœåŠ¡éå¸¸ä¸“ä¸šï¼Œä»å¼€ä¸šæŒ‡å¯¼åˆ°æ—¥å¸¸ç»´æŠ¤ï¼Œæ¯ä¸ªç¯èŠ‚éƒ½åšå¾—å¾ˆåˆ°ä½ã€‚ç³»ç»Ÿè¿è¡Œéå¸¸ç¨³å®šï¼Œæˆ‘ä»¬å¾ˆæ”¾å¿ƒã€‚',
    date: '2024å¹´3æœˆ'
  },
  {
    name: 'æç»ç†',
    role: 'å¹¿å·æ˜Ÿè€€ç”µç«ä¸»é¢˜é…’åº— è¿è¥æ€»ç›‘',
    avatar: 'ğŸ‘©',
    rating: 5,
    comment: 'é›†ä¸­å¼ç®¡ç†æ–¹æ¡ˆè§£å†³äº†æˆ‘ä»¬çš„å¤§éš¾é¢˜ï¼Œç°åœ¨ç»´æŠ¤æ•ˆç‡å¤§å¤§æå‡ï¼Œå®¢æˆ·æ»¡æ„åº¦ä¹Ÿæé«˜äº†ã€‚æ™ºç»´çš„æŠ€æœ¯å®åŠ›ç¡®å®å¼ºã€‚',
    date: '2024å¹´5æœˆ'
  },
  {
    name: 'ç‹è€æ¿',
    role: 'ä¸œèç½‘è”è¿é”ç½‘å§ åˆ›å§‹äºº',
    avatar: 'ğŸ‘¨',
    rating: 5,
    comment: 'åˆä½œäº† 5 å¹´ï¼Œæ™ºç»´ä¸€ç›´å¾ˆé è°±ã€‚å“åº”é€Ÿåº¦å¿«ï¼Œè§£å†³é—®é¢˜ä¸“ä¸šï¼Œæ˜¯æˆ‘ä»¬æœ€ä¿¡ä»»çš„æŠ€æœ¯åˆä½œä¼™ä¼´ã€‚',
    date: '2024å¹´6æœˆ'
  },
  {
    name: 'é™ˆæ€»',
    role: 'ä½›å±±å¤©åŸŸç½‘å’– æŠ•èµ„äºº',
    avatar: 'ğŸ‘¨',
    rating: 5,
    comment: 'å¼€ä¸šå‰çš„æŠ€æœ¯æŒ‡å¯¼éå¸¸è¯¦ç»†ï¼Œå¸®æˆ‘ä»¬é¿å¼€äº†å¾ˆå¤šå‘ã€‚ç°åœ¨ç³»ç»Ÿè¿è¡Œç¨³å®šï¼Œè¥ä¸šé¢ä¹Ÿåœ¨ç¨³æ­¥å¢é•¿ã€‚',
    date: '2024å¹´7æœˆ'
  },
  {
    name: 'åˆ˜ç»ç†',
    role: 'æƒ å·é›·éœ†ç”µç«é¦† åº—é•¿',
    avatar: 'ğŸ‘©',
    rating: 5,
    comment: 'è¿œç¨‹ç»´æŠ¤å¤ªæ–¹ä¾¿äº†ï¼Œæœ‰é—®é¢˜éšæ—¶è”ç³»ï¼Œå‡ åˆ†é’Ÿå°±èƒ½è§£å†³ã€‚æŠ€æœ¯å›¢é˜Ÿå¾ˆä¸“ä¸šï¼ŒæœåŠ¡æ€åº¦ä¹Ÿå¾ˆå¥½ã€‚',
    date: '2024å¹´8æœˆ'
  }
]

const currentIndex = ref(0)

const next = () => {
  currentIndex.value = (currentIndex.value + 1) % testimonials.length
}

const prev = () => {
  currentIndex.value = (currentIndex.value - 1 + testimonials.length) % testimonials.length
}
</script>

<template>
  <section class="py-24 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16 animate-on-scroll opacity-0 translate-y-10">
        <h2 class="text-lg font-semibold text-apple-blue mb-2">å®¢æˆ·è¯„ä»·</h2>
        <p class="text-4xl md:text-5xl font-semibold tracking-tight text-apple-dark mb-4">å®¢æˆ·è¯´å¥½ï¼Œæ‰æ˜¯çœŸçš„å¥½</p>
        <p class="text-xl text-gray-500 max-w-2xl mx-auto">98% çš„å®¢æˆ·æ»¡æ„åº¦ï¼Œæ¥è‡ªæ¯ä¸€ä½å®¢æˆ·çš„çœŸå®åé¦ˆã€‚</p>
      </div>

      <div class="relative">
        <!-- è½®æ’­å®¹å™¨ -->
        <div class="overflow-hidden rounded-3xl">
          <div 
            class="flex transition-transform duration-500 ease-in-out"
            :style="{ transform: `translateX(-${currentIndex * 100}%)` }"
          >
            <div 
              v-for="(testimonial, index) in testimonials" 
              :key="index"
              class="min-w-full px-4"
            >
              <div class="bg-apple-gray rounded-3xl p-8 md:p-12 max-w-4xl mx-auto">
                <div class="flex items-center mb-6">
                  <div class="w-16 h-16 rounded-full bg-apple-blue/10 flex items-center justify-center text-3xl mr-4">
                    {{ testimonial.avatar }}
                  </div>
                  <div>
                    <h4 class="text-xl font-semibold text-apple-dark">{{ testimonial.name }}</h4>
                    <p class="text-sm text-gray-500">{{ testimonial.role }}</p>
                  </div>
                </div>
                
                <div class="flex items-center mb-4">
                  <Star 
                    v-for="i in testimonial.rating" 
                    :key="i" 
                    class="w-5 h-5 text-yellow-400 fill-yellow-400"
                  />
                </div>
                
                <p class="text-lg text-gray-700 leading-relaxed mb-4 italic">"{{ testimonial.comment }}"</p>
                
                <p class="text-sm text-gray-400">{{ testimonial.date }}</p>
              </div>
            </div>
          </div>
        </div>

        <!-- å¯¼èˆªæŒ‰é’® -->
        <button 
          @click="prev"
          class="absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 w-12 h-12 rounded-full bg-white shadow-lg flex items-center justify-center hover:bg-apple-gray transition-colors"
        >
          <ChevronLeft class="w-6 h-6 text-apple-dark" />
        </button>
        <button 
          @click="next"
          class="absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 w-12 h-12 rounded-full bg-white shadow-lg flex items-center justify-center hover:bg-apple-gray transition-colors"
        >
          <ChevronRight class="w-6 h-6 text-apple-dark" />
        </button>

        <!-- æŒ‡ç¤ºå™¨ -->
        <div class="flex justify-center space-x-2 mt-8">
          <button 
            v-for="(_, index) in testimonials" 
            :key="index"
            @click="currentIndex = index"
            :class="[
              'w-2 h-2 rounded-full transition-all',
              currentIndex === index ? 'bg-apple-blue w-8' : 'bg-gray-300'
            ]"
          />
        </div>
      </div>

      <!-- ç»Ÿè®¡æ•°æ® -->
      <div class="mt-16 grid grid-cols-2 md:grid-cols-4 gap-8 animate-on-scroll opacity-0 translate-y-10">
        <div class="text-center">
          <div class="text-4xl font-bold text-apple-blue mb-2">98%</div>
          <p class="text-sm text-gray-600">å®¢æˆ·æ»¡æ„åº¦</p>
        </div>
        <div class="text-center">
          <div class="text-4xl font-bold text-apple-blue mb-2">500+</div>
          <p class="text-sm text-gray-600">æœåŠ¡å®¢æˆ·</p>
        </div>
        <div class="text-center">
          <div class="text-4xl font-bold text-apple-blue mb-2">99.5%</div>
          <p class="text-sm text-gray-600">ç³»ç»Ÿç¨³å®šæ€§</p>
        </div>
        <div class="text-center">
          <div class="text-4xl font-bold text-apple-blue mb-2">5åˆ†é’Ÿ</div>
          <p class="text-sm text-gray-600">å¹³å‡å“åº”æ—¶é—´</p>
        </div>
      </div>
    </div>
  </section>
</template>

