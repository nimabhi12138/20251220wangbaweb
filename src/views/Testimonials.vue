<script setup lang="ts">
import { ChevronLeft, ChevronRight } from 'lucide-vue-next'
import { ref } from 'vue'

const testimonials = [
  {
    name: 'å¼ æ€»',
    role: 'æ·±åœ³æé€Ÿç”µç«ç½‘å’– æ€»ç»ç†',
    avatar: 'ğŸ‘¨',
    rating: 5,
    comment: 'æ™ºç»´å›¢é˜Ÿçš„æœåŠ¡éå¸¸ä¸“ä¸šï¼Œä»å¼€ä¸šæŒ‡å¯¼åˆ°æ—¥å¸¸ç»´æŠ¤ï¼Œæ¯ä¸ªç¯èŠ‚éƒ½åšå¾—å¾ˆåˆ°ä½ã€‚ç³»ç»Ÿè¿è¡Œéå¸¸ç¨³å®šï¼Œæˆ‘ä»¬å¾ˆæ”¾å¿ƒã€‚',
    date: '2024å¹´3æœˆ'
  },
  {
    name: 'æç»ç†',
    role: 'å¹¿å·æ˜Ÿè€€ç”µç«ä¸»é¢˜é…’åº— è¿è¥æ€»ç›‘',
    avatar: 'ğŸ‘©',
    rating: 5,
    comment: 'é›†ä¸­å¼ç®¡ç†æ–¹æ¡ˆè§£å†³äº†æˆ‘ä»¬çš„å¤§éš¾é¢˜ï¼Œç°åœ¨ç»´æŠ¤æ•ˆç‡å¤§å¤§æå‡ï¼Œå®¢æˆ·æ»¡æ„åº¦ä¹Ÿæé«˜äº†ã€‚æ™ºç»´çš„æŠ€æœ¯å®åŠ›ç¡®å®å¼ºã€‚',
    date: '2024å¹´5æœˆ'
  },
  {
    name: 'ç‹è€æ¿',
    role: 'ä¸œèç½‘è”è¿é”ç½‘å§ åˆ›å§‹äºº',
    avatar: 'ğŸ‘¨',
    rating: 5,
    comment: 'åˆä½œäº† 5 å¹´ï¼Œæ™ºç»´ä¸€ç›´å¾ˆé è°±ã€‚å“åº”é€Ÿåº¦å¿«ï¼Œè§£å†³é—®é¢˜ä¸“ä¸šï¼Œæ˜¯æˆ‘ä»¬æœ€ä¿¡ä»»çš„æŠ€æœ¯åˆä½œä¼™ä¼´ã€‚',
    date: '2024å¹´6æœˆ'
  },
  {
    name: 'é™ˆæ€»',
    role: 'ä½›å±±å¤©åŸŸç½‘å’– æŠ•èµ„äºº',
    avatar: 'ğŸ‘¨',
    rating: 5,
    comment: 'å¼€ä¸šå‰çš„æŠ€æœ¯æŒ‡å¯¼éå¸¸è¯¦ç»†ï¼Œå¸®æˆ‘ä»¬é¿å¼€äº†å¾ˆå¤šå‘ã€‚ç°åœ¨ç³»ç»Ÿè¿è¡Œç¨³å®šï¼Œè¥ä¸šé¢ä¹Ÿåœ¨ç¨³æ­¥å¢é•¿ã€‚',
    date: '2024å¹´7æœˆ'
  },
  {
    name: 'åˆ˜ç»ç†',
    role: 'æƒ å·é›·éœ†ç”µç«é¦† åº—é•¿',
    avatar: 'ğŸ‘©',
    rating: 5,
    comment: 'è¿œç¨‹ç»´æŠ¤å¤ªæ–¹ä¾¿äº†ï¼Œæœ‰é—®é¢˜éšæ—¶è”ç³»ï¼Œå‡ åˆ†é’Ÿå°±èƒ½è§£å†³ã€‚æŠ€æœ¯å›¢é˜Ÿå¾ˆä¸“ä¸šï¼ŒæœåŠ¡æ€åº¦ä¹Ÿå¾ˆå¥½ã€‚',
    date: '2024å¹´8æœˆ'
  }
]

const currentIndex = ref(0)

const next = () => {
  currentIndex.value = (currentIndex.value + 1) % testimonials.length
}

const prev = () => {
  currentIndex.value = (currentIndex.value - 1 + testimonials.length) % testimonials.length
}
</script>

<template>
  <section class="max-w-7xl mx-auto px-6 lg:px-8">
    <div class="text-center mb-32 animate-on-scroll opacity-0 translate-y-6">
      <h2 class="text-lg font-semibold text-apple-blue mb-4 tracking-widest uppercase">å®¢æˆ·å£ç¢‘</h2>
      <p class="text-5xl md:text-6xl font-semibold tracking-tight text-apple-dark mb-8">å¬å¬ä»–ä»¬æ€ä¹ˆè¯´</p>
    </div>

    <div class="relative max-w-5xl mx-auto">
      <!-- è½®æ’­å®¹å™¨ -->
      <div class="overflow-hidden rounded-[3rem] bg-white shadow-[0_40px_100px_rgba(0,0,0,0.03)] border border-gray-50">
        <div 
          class="flex transition-transform duration-1000 cubic-bezier(0.4, 0, 0.2, 1)"
          :style="{ transform: `translateX(-${currentIndex * 100}%)` }"
        >
          <div 
            v-for="(testimonial, index) in testimonials" 
            :key="index"
            class="min-w-full px-12 py-20 md:px-24 md:py-32 flex flex-col items-center text-center"
          >
            <div class="text-5xl mb-10 opacity-20 text-apple-blue font-serif italic">â€œ</div>
            
            <p class="text-2xl md:text-3xl text-apple-dark leading-snug font-medium mb-12 max-w-3xl">
              {{ testimonial.comment }}
            </p>
            
            <div class="flex flex-col items-center">
              <div class="w-16 h-16 rounded-full bg-[#f5f5f7] flex items-center justify-center text-2xl mb-6 shadow-inner">
                {{ testimonial.avatar }}
              </div>
              <h4 class="text-xl font-semibold text-apple-dark mb-1">{{ testimonial.name }}</h4>
              <p class="text-sm text-gray-400 font-light uppercase tracking-widest">{{ testimonial.role }}</p>
            </div>
          </div>
        </div>
      </div>

      <!-- æ‚¬æµ®å¯¼èˆªæŒ‰é’® -->
      <div class="absolute inset-y-0 -left-10 -right-10 hidden md:flex items-center justify-between pointer-events-none">
        <button 
          @click="prev"
          class="w-16 h-16 rounded-full bg-white shadow-2xl flex items-center justify-center hover:bg-apple-blue hover:text-white transition-all duration-500 pointer-events-auto group"
        >
          <ChevronLeft class="w-6 h-6 text-apple-dark group-hover:text-white" />
        </button>
        <button 
          @click="next"
          class="w-16 h-16 rounded-full bg-white shadow-2xl flex items-center justify-center hover:bg-apple-blue hover:text-white transition-all duration-500 pointer-events-auto group"
        >
          <ChevronRight class="w-6 h-6 text-apple-dark group-hover:text-white" />
        </button>
      </div>

      <!-- æç®€æŒ‡ç¤ºå™¨ -->
      <div class="flex justify-center space-x-4 mt-16">
        <button 
          v-for="(_, index) in testimonials" 
          :key="index"
          @click="currentIndex = index"
          :class="[
            'h-1.5 rounded-full transition-all duration-700',
            currentIndex === index ? 'bg-apple-blue w-12' : 'bg-gray-200 w-4'
          ]"
        />
      </div>
    </div>

    <!-- æ•°æ®æŒ‡æ ‡ï¼šæ›´å¹²å‡€çš„æ’ç‰ˆ -->
    <div class="mt-40 grid grid-cols-2 lg:grid-cols-4 gap-16 md:gap-24 animate-on-scroll opacity-0 translate-y-6 max-w-6xl mx-auto">
      <div class="flex flex-col items-center text-center group">
        <div class="text-5xl md:text-6xl font-bold text-apple-dark mb-4 tracking-tighter group-hover:text-apple-blue transition-colors">98%</div>
        <p class="text-xs font-bold text-gray-400 uppercase tracking-[0.2em]">å®¢æˆ·æ»¡æ„åº¦</p>
      </div>
      <div class="flex flex-col items-center text-center group">
        <div class="text-5xl md:text-6xl font-bold text-apple-dark mb-4 tracking-tighter group-hover:text-apple-blue transition-colors">500+</div>
        <p class="text-xs font-bold text-gray-400 uppercase tracking-[0.2em]">åˆä½œæœºæ„</p>
      </div>
      <div class="flex flex-col items-center text-center group">
        <div class="text-5xl md:text-6xl font-bold text-apple-dark mb-4 tracking-tighter group-hover:text-apple-blue transition-colors">99.5%</div>
        <p class="text-xs font-bold text-gray-400 uppercase tracking-[0.2em]">ç³»ç»Ÿç¨³å®šæ€§</p>
      </div>
      <div class="flex flex-col items-center text-center group">
        <div class="text-5xl md:text-6xl font-bold text-apple-dark mb-4 tracking-tighter group-hover:text-apple-blue transition-colors">5min</div>
        <p class="text-xs font-bold text-gray-400 uppercase tracking-[0.2em]">å¹³å‡å“åº”æ—¶é—´</p>
      </div>
    </div>
  </section>
</template>

